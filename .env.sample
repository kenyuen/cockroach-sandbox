# .env.sample â€” copy to .env and edit for local runs
# DO NOT commit your .env with secrets to git. This file documents safe defaults.

# Image settings
COCKROACH_IMAGE=cockroachdb/cockroach
COCKROACH_TAG=v23.2.6

# Cluster and topology
CLUSTER_NAME=local-cockroach
JOIN_HOSTS=cockroach1:26257,cockroach2:26257,cockroach3:26257

# Host ports for each node (hostPort:containerPort mapping uses container ports 26257/8080)
# Use distinct host ports so multiple nodes can be reached from the host machine.
SQL_PORT_1=26257
SQL_PORT_2=26258
SQL_PORT_3=26259
HTTP_PORT_1=8080
HTTP_PORT_2=8081
HTTP_PORT_3=8082

# Data volumes prefix (named volumes will be <prefix>-1, <prefix>-2, ...)
DATA_VOLUME_PREFIX=cockroach-data

# Cockroach start flags (kept conservative for local dev).
COCKROACH_START_FLAGS=--cache=25% --max-sql-memory=25%

# Toggle persistence of data volumes. For ephemeral clusters set to "false".
PERSIST_DATA=true

# Restart policy for containers (unless-stopped is reasonable for local dev)
RESTART_POLICY=unless-stopped

# Init host/port used by the init job (can be changed if you expose different host ports)
INIT_HOST=cockroach1:26257

# Notes:
# - For local development we use --insecure by default to avoid cert setup complexity.
# - TODO: switch to TLS/certs for any shared or production-like runs. See README.md for steps.
